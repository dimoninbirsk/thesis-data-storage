<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>XmlDeserializerTests.cs</title>
  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.5.1.min.js"></script>
</head>
<body>
<pre><code class = "cs">
<a name="ln1">ï»¿using System.Globalization;</a>
<a name="ln2">using System.Xml.Linq;</a>
<a name="ln3">using RestSharp.Serializers.Xml;</a>
<a name="ln4">using RestSharp.Tests.Serializers.Xml.SampleClasses;</a>
<a name="ln5">using RestSharp.Tests.Serializers.Xml.SampleClasses.DeserializeAsTest;</a>
<a name="ln6"> </a>
<a name="ln7">namespace RestSharp.Tests.Serializers.Xml;</a>
<a name="ln8"> </a>
<a name="ln9">public class XmlDeserializerTests {</a>
<a name="ln10">    const string GuidString = &quot;AC1FC4BC-087A-4242-B8EE-C53EBE9887A5&quot;;</a>
<a name="ln11"> </a>
<a name="ln12">#if NET</a>
<a name="ln13">    readonly string _sampleDataPath = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, &quot;SampleData&quot;);</a>
<a name="ln14">#else</a>
<a name="ln15">    readonly string _sampleDataPath = Path.Combine(Directory.GetCurrentDirectory(), &quot;SampleData&quot;);</a>
<a name="ln16">#endif</a>
<a name="ln17"> </a>
<a name="ln18">    string PathFor(string sampleFile) =&gt; Path.Combine(_sampleDataPath, sampleFile);</a>
<a name="ln19"> </a>
<a name="ln20">    static string CreateUnderscoresXml() {</a>
<a name="ln21">        var doc  = new XDocument();</a>
<a name="ln22">        var root = new XElement(&quot;Person&quot;);</a>
<a name="ln23"> </a>
<a name="ln24">        root.Add(new XElement(&quot;Name&quot;, &quot;John Sheehan&quot;));</a>
<a name="ln25">        root.Add(new XElement(&quot;Start_Date&quot;, new DateTime(2009, 9, 25, 0, 6, 1)));</a>
<a name="ln26">        root.Add(new XAttribute(&quot;Age&quot;, 28));</a>
<a name="ln27">        root.Add(new XElement(&quot;Percent&quot;, 99.9999m));</a>
<a name="ln28">        root.Add(new XElement(&quot;Big_Number&quot;, long.MaxValue));</a>
<a name="ln29">        root.Add(new XAttribute(&quot;Is_Cool&quot;, false));</a>
<a name="ln30">        root.Add(new XElement(&quot;Ignore&quot;, &quot;dummy&quot;));</a>
<a name="ln31">        root.Add(new XAttribute(&quot;Read_Only&quot;, &quot;dummy&quot;));</a>
<a name="ln32">        root.Add(new XElement(&quot;Unique_Id&quot;, new Guid(GuidString)));</a>
<a name="ln33">        root.Add(new XElement(&quot;Url&quot;, &quot;https://example.com&quot;));</a>
<a name="ln34">        root.Add(new XElement(&quot;Url_Path&quot;, &quot;/foo/bar&quot;));</a>
<a name="ln35"> </a>
<a name="ln36">        root.Add(</a>
<a name="ln37">            new XElement(</a>
<a name="ln38">                &quot;Best_Friend&quot;,</a>
<a name="ln39">                new XElement(&quot;Name&quot;, &quot;The Fonz&quot;),</a>
<a name="ln40">                new XAttribute(&quot;Since&quot;, 1952)</a>
<a name="ln41">            )</a>
<a name="ln42">        );</a>
<a name="ln43"> </a>
<a name="ln44">        var friends = new XElement(&quot;Friends&quot;);</a>
<a name="ln45"> </a>
<a name="ln46">        for (var i = 0; i &lt; 10; i++) {</a>
<a name="ln47">            friends.Add(</a>
<a name="ln48">                new XElement(</a>
<a name="ln49">                    &quot;Friend&quot;,</a>
<a name="ln50">                    new XElement(&quot;Name&quot;, $&quot;Friend{i}&quot;),</a>
<a name="ln51">                    new XAttribute(&quot;Since&quot;, DateTime.Now.Year - i)</a>
<a name="ln52">                )</a>
<a name="ln53">            );</a>
<a name="ln54">        }</a>
<a name="ln55"> </a>
<a name="ln56">        root.Add(friends);</a>
<a name="ln57"> </a>
<a name="ln58">        var foes = new XElement(&quot;Foes&quot;);</a>
<a name="ln59"> </a>
<a name="ln60">        foes.Add(new XAttribute(&quot;Team&quot;, &quot;Yankees&quot;));</a>
<a name="ln61"> </a>
<a name="ln62">        for (var i = 0; i &lt; 5; i++) foes.Add(new XElement(&quot;Foe&quot;, new XElement(&quot;Nickname&quot;, $&quot;Foe{i}&quot;)));</a>
<a name="ln63"> </a>
<a name="ln64">        root.Add(foes);</a>
<a name="ln65">        doc.Add(root);</a>
<a name="ln66"> </a>
<a name="ln67">        return doc.ToString();</a>
<a name="ln68">    }</a>
<a name="ln69"> </a>
<a name="ln70">    static string CreateLowercaseUnderscoresXml() {</a>
<a name="ln71">        var doc  = new XDocument();</a>
<a name="ln72">        var root = new XElement(&quot;Person&quot;);</a>
<a name="ln73"> </a>
<a name="ln74">        root.Add(new XElement(&quot;Name&quot;, &quot;John Sheehan&quot;));</a>
<a name="ln75">        root.Add(new XElement(&quot;start_date&quot;, new DateTime(2009, 9, 25, 0, 6, 1)));</a>
<a name="ln76">        root.Add(new XAttribute(&quot;Age&quot;, 28));</a>
<a name="ln77">        root.Add(new XElement(&quot;Percent&quot;, 99.9999m));</a>
<a name="ln78">        root.Add(new XElement(&quot;big_number&quot;, long.MaxValue));</a>
<a name="ln79">        root.Add(new XAttribute(&quot;is_cool&quot;, false));</a>
<a name="ln80">        root.Add(new XElement(&quot;Ignore&quot;, &quot;dummy&quot;));</a>
<a name="ln81">        root.Add(new XAttribute(&quot;read_only&quot;, &quot;dummy&quot;));</a>
<a name="ln82">        root.Add(new XElement(&quot;unique_id&quot;, new Guid(GuidString)));</a>
<a name="ln83">        root.Add(new XElement(&quot;Url&quot;, &quot;https://example.com&quot;));</a>
<a name="ln84">        root.Add(new XElement(&quot;url_path&quot;, &quot;/foo/bar&quot;));</a>
<a name="ln85"> </a>
<a name="ln86">        root.Add(</a>
<a name="ln87">            new XElement(</a>
<a name="ln88">                &quot;best_friend&quot;,</a>
<a name="ln89">                new XElement(&quot;name&quot;, &quot;The Fonz&quot;),</a>
<a name="ln90">                new XAttribute(&quot;Since&quot;, 1952)</a>
<a name="ln91">            )</a>
<a name="ln92">        );</a>
<a name="ln93"> </a>
<a name="ln94">        var friends = new XElement(&quot;Friends&quot;);</a>
<a name="ln95"> </a>
<a name="ln96">        for (var i = 0; i &lt; 10; i++) {</a>
<a name="ln97">            friends.Add(</a>
<a name="ln98">                new XElement(</a>
<a name="ln99">                    &quot;Friend&quot;,</a>
<a name="ln100">                    new XElement(&quot;Name&quot;, $&quot;Friend{i}&quot;),</a>
<a name="ln101">                    new XAttribute(&quot;Since&quot;, DateTime.Now.Year - i)</a>
<a name="ln102">                )</a>
<a name="ln103">            );</a>
<a name="ln104">        }</a>
<a name="ln105"> </a>
<a name="ln106">        root.Add(friends);</a>
<a name="ln107"> </a>
<a name="ln108">        var foes = new XElement(&quot;Foes&quot;);</a>
<a name="ln109"> </a>
<a name="ln110">        foes.Add(new XAttribute(&quot;Team&quot;, &quot;Yankees&quot;));</a>
<a name="ln111"> </a>
<a name="ln112">        for (var i = 0; i &lt; 5; i++) foes.Add(new XElement(&quot;Foe&quot;, new XElement(&quot;Nickname&quot;, $&quot;Foe{i}&quot;)));</a>
<a name="ln113"> </a>
<a name="ln114">        root.Add(foes);</a>
<a name="ln115">        doc.Add(root);</a>
<a name="ln116"> </a>
<a name="ln117">        return doc.ToString();</a>
<a name="ln118">    }</a>
<a name="ln119"> </a>
<a name="ln120">    static string CreateDashesXml() {</a>
<a name="ln121">        var doc  = new XDocument();</a>
<a name="ln122">        var root = new XElement(&quot;Person&quot;);</a>
<a name="ln123"> </a>
<a name="ln124">        root.Add(new XElement(&quot;Name&quot;, &quot;John Sheehan&quot;));</a>
<a name="ln125">        root.Add(new XElement(&quot;Start_Date&quot;, new DateTime(2009, 9, 25, 0, 6, 1)));</a>
<a name="ln126">        root.Add(new XAttribute(&quot;Age&quot;, 28));</a>
<a name="ln127">        root.Add(new XElement(&quot;Percent&quot;, 99.9999m));</a>
<a name="ln128">        root.Add(new XElement(&quot;Big-Number&quot;, long.MaxValue));</a>
<a name="ln129">        root.Add(new XAttribute(&quot;Is-Cool&quot;, false));</a>
<a name="ln130">        root.Add(new XElement(&quot;Ignore&quot;, &quot;dummy&quot;));</a>
<a name="ln131">        root.Add(new XAttribute(&quot;Read-Only&quot;, &quot;dummy&quot;));</a>
<a name="ln132">        root.Add(new XElement(&quot;Unique-Id&quot;, new Guid(GuidString)));</a>
<a name="ln133">        root.Add(new XElement(&quot;Url&quot;, &quot;https://example.com&quot;));</a>
<a name="ln134">        root.Add(new XElement(&quot;Url-Path&quot;, &quot;/foo/bar&quot;));</a>
<a name="ln135"> </a>
<a name="ln136">        root.Add(</a>
<a name="ln137">            new XElement(</a>
<a name="ln138">                &quot;Best-Friend&quot;,</a>
<a name="ln139">                new XElement(&quot;Name&quot;, &quot;The Fonz&quot;),</a>
<a name="ln140">                new XAttribute(&quot;Since&quot;, 1952)</a>
<a name="ln141">            )</a>
<a name="ln142">        );</a>
<a name="ln143"> </a>
<a name="ln144">        var friends = new XElement(&quot;Friends&quot;);</a>
<a name="ln145"> </a>
<a name="ln146">        for (var i = 0; i &lt; 10; i++) {</a>
<a name="ln147">            friends.Add(</a>
<a name="ln148">                new XElement(</a>
<a name="ln149">                    &quot;Friend&quot;,</a>
<a name="ln150">                    new XElement(&quot;Name&quot;, $&quot;Friend{i}&quot;),</a>
<a name="ln151">                    new XAttribute(&quot;Since&quot;, DateTime.Now.Year - i)</a>
<a name="ln152">                )</a>
<a name="ln153">            );</a>
<a name="ln154">        }</a>
<a name="ln155"> </a>
<a name="ln156">        root.Add(friends);</a>
<a name="ln157"> </a>
<a name="ln158">        var foes = new XElement(&quot;Foes&quot;);</a>
<a name="ln159"> </a>
<a name="ln160">        foes.Add(new XAttribute(&quot;Team&quot;, &quot;Yankees&quot;));</a>
<a name="ln161"> </a>
<a name="ln162">        for (var i = 0; i &lt; 5; i++) foes.Add(new XElement(&quot;Foe&quot;, new XElement(&quot;Nickname&quot;, $&quot;Foe{i}&quot;)));</a>
<a name="ln163"> </a>
<a name="ln164">        root.Add(foes);</a>
<a name="ln165">        doc.Add(root);</a>
<a name="ln166"> </a>
<a name="ln167">        return doc.ToString();</a>
<a name="ln168">    }</a>
<a name="ln169"> </a>
<a name="ln170">    static string CreateLowerCasedRootElementWithDashesXml() {</a>
<a name="ln171">        var doc = new XDocument();</a>
<a name="ln172"> </a>
<a name="ln173">        var root = new XElement(</a>
<a name="ln174">            &quot;incoming-invoices&quot;,</a>
<a name="ln175">            new XElement(&quot;incoming-invoice&quot;, new XElement(&quot;concept-id&quot;, 45))</a>
<a name="ln176">        );</a>
<a name="ln177"> </a>
<a name="ln178">        doc.Add(root);</a>
<a name="ln179"> </a>
<a name="ln180">        return doc.ToString();</a>
<a name="ln181">    }</a>
<a name="ln182"> </a>
<a name="ln183">    static string CreateElementsXml() {</a>
<a name="ln184">        var doc  = new XDocument();</a>
<a name="ln185">        var root = new XElement(&quot;Person&quot;);</a>
<a name="ln186"> </a>
<a name="ln187">        root.Add(new XElement(&quot;Name&quot;, &quot;John Sheehan&quot;));</a>
<a name="ln188">        root.Add(new XElement(&quot;StartDate&quot;, new DateTime(2009, 9, 25, 0, 6, 1)));</a>
<a name="ln189">        root.Add(new XElement(&quot;Age&quot;, 28));</a>
<a name="ln190">        root.Add(new XElement(&quot;Percent&quot;, 99.9999m));</a>
<a name="ln191">        root.Add(new XElement(&quot;BigNumber&quot;, long.MaxValue));</a>
<a name="ln192">        root.Add(new XElement(&quot;IsCool&quot;, false));</a>
<a name="ln193">        root.Add(new XElement(&quot;Ignore&quot;, &quot;dummy&quot;));</a>
<a name="ln194">        root.Add(new XElement(&quot;ReadOnly&quot;, &quot;dummy&quot;));</a>
<a name="ln195">        root.Add(new XElement(&quot;UniqueId&quot;, new Guid(GuidString)));</a>
<a name="ln196">        root.Add(new XElement(&quot;EmptyGuid&quot;, &quot;&quot;));</a>
<a name="ln197">        root.Add(new XElement(&quot;Url&quot;, &quot;https://example.com&quot;));</a>
<a name="ln198">        root.Add(new XElement(&quot;UrlPath&quot;, &quot;/foo/bar&quot;));</a>
<a name="ln199">        root.Add(new XElement(&quot;Order&quot;, &quot;third&quot;));</a>
<a name="ln200">        root.Add(new XElement(&quot;Disposition&quot;, &quot;so-so&quot;));</a>
<a name="ln201"> </a>
<a name="ln202">        root.Add(</a>
<a name="ln203">            new XElement(</a>
<a name="ln204">                &quot;BestFriend&quot;,</a>
<a name="ln205">                new XElement(&quot;Name&quot;, &quot;The Fonz&quot;),</a>
<a name="ln206">                new XElement(&quot;Since&quot;, 1952)</a>
<a name="ln207">            )</a>
<a name="ln208">        );</a>
<a name="ln209"> </a>
<a name="ln210">        var friends = new XElement(&quot;Friends&quot;);</a>
<a name="ln211"> </a>
<a name="ln212">        for (var i = 0; i &lt; 10; i++) {</a>
<a name="ln213">            friends.Add(</a>
<a name="ln214">                new XElement(</a>
<a name="ln215">                    &quot;Friend&quot;,</a>
<a name="ln216">                    new XElement(&quot;Name&quot;, $&quot;Friend{i}&quot;),</a>
<a name="ln217">                    new XElement(&quot;Since&quot;, DateTime.Now.Year - i)</a>
<a name="ln218">                )</a>
<a name="ln219">            );</a>
<a name="ln220">        }</a>
<a name="ln221"> </a>
<a name="ln222">        root.Add(friends);</a>
<a name="ln223">        doc.Add(root);</a>
<a name="ln224"> </a>
<a name="ln225">        return doc.ToString();</a>
<a name="ln226">    }</a>
<a name="ln227"> </a>
<a name="ln228">    static string CreateAttributesXml() {</a>
<a name="ln229">        var doc  = new XDocument();</a>
<a name="ln230">        var root = new XElement(&quot;Person&quot;);</a>
<a name="ln231"> </a>
<a name="ln232">        root.Add(new XAttribute(&quot;Name&quot;, &quot;John Sheehan&quot;));</a>
<a name="ln233">        root.Add(new XAttribute(&quot;StartDate&quot;, new DateTime(2009, 9, 25, 0, 6, 1)));</a>
<a name="ln234">        root.Add(new XAttribute(&quot;Age&quot;, 28));</a>
<a name="ln235">        root.Add(new XAttribute(&quot;Percent&quot;, 99.9999m));</a>
<a name="ln236">        root.Add(new XAttribute(&quot;BigNumber&quot;, long.MaxValue));</a>
<a name="ln237">        root.Add(new XAttribute(&quot;IsCool&quot;, false));</a>
<a name="ln238">        root.Add(new XAttribute(&quot;Ignore&quot;, &quot;dummy&quot;));</a>
<a name="ln239">        root.Add(new XAttribute(&quot;ReadOnly&quot;, &quot;dummy&quot;));</a>
<a name="ln240">        root.Add(new XAttribute(&quot;UniqueId&quot;, new Guid(GuidString)));</a>
<a name="ln241">        root.Add(new XAttribute(&quot;Url&quot;, &quot;https://example.com&quot;));</a>
<a name="ln242">        root.Add(new XAttribute(&quot;UrlPath&quot;, &quot;/foo/bar&quot;));</a>
<a name="ln243"> </a>
<a name="ln244">        root.Add(</a>
<a name="ln245">            new XElement(</a>
<a name="ln246">                &quot;BestFriend&quot;,</a>
<a name="ln247">                new XAttribute(&quot;Name&quot;, &quot;The Fonz&quot;),</a>
<a name="ln248">                new XAttribute(&quot;Since&quot;, 1952)</a>
<a name="ln249">            )</a>
<a name="ln250">        );</a>
<a name="ln251"> </a>
<a name="ln252">        doc.Add(root);</a>
<a name="ln253"> </a>
<a name="ln254">        return doc.ToString();</a>
<a name="ln255">    }</a>
<a name="ln256"> </a>
<a name="ln257">    static string CreateNoteXml() {</a>
<a name="ln258">        var doc  = new XDocument();</a>
<a name="ln259">        var root = new XElement(&quot;Note&quot;);</a>
<a name="ln260"> </a>
<a name="ln261">        root.SetAttributeValue(&quot;Id&quot;, 1);</a>
<a name="ln262">        root.Value = Note.ConstMessage;</a>
<a name="ln263">        root.Add(new XElement(&quot;Title&quot;, Note.ConstTitle));</a>
<a name="ln264"> </a>
<a name="ln265">        doc.Add(root);</a>
<a name="ln266"> </a>
<a name="ln267">        return doc.ToString();</a>
<a name="ln268">    }</a>
<a name="ln269"> </a>
<a name="ln270">    static string CreateXmlWithNullValues() {</a>
<a name="ln271">        var doc  = new XDocument();</a>
<a name="ln272">        var root = new XElement(&quot;NullableValues&quot;);</a>
<a name="ln273"> </a>
<a name="ln274">        root.Add(</a>
<a name="ln275">            new XElement(&quot;Id&quot;, null!),</a>
<a name="ln276">            new XElement(&quot;StartDate&quot;, null!),</a>
<a name="ln277">            new XElement(&quot;UniqueId&quot;, null!)</a>
<a name="ln278">        );</a>
<a name="ln279"> </a>
<a name="ln280">        doc.Add(root);</a>
<a name="ln281"> </a>
<a name="ln282">        return doc.ToString();</a>
<a name="ln283">    }</a>
<a name="ln284"> </a>
<a name="ln285">    static string CreateXmlWithoutEmptyValues(CultureInfo culture) {</a>
<a name="ln286">        var doc  = new XDocument();</a>
<a name="ln287">        var root = new XElement(&quot;NullableValues&quot;);</a>
<a name="ln288"> </a>
<a name="ln289">        root.Add(</a>
<a name="ln290">            new XElement(&quot;Id&quot;, 123),</a>
<a name="ln291">            new XElement(&quot;StartDate&quot;, new DateTime(2010, 2, 21, 9, 35, 00).ToString(culture)),</a>
<a name="ln292">            new XElement(&quot;UniqueId&quot;, new Guid(GuidString))</a>
<a name="ln293">        );</a>
<a name="ln294"> </a>
<a name="ln295">        doc.Add(root);</a>
<a name="ln296"> </a>
<a name="ln297">        return doc.ToString();</a>
<a name="ln298">    }</a>
<a name="ln299"> </a>
<a name="ln300">    static string CreateXmlWithEmptyNestedList() {</a>
<a name="ln301">        var doc  = new XDocument();</a>
<a name="ln302">        var root = new XElement(&quot;EmptyListSample&quot;);</a>
<a name="ln303"> </a>
<a name="ln304">        root.Add(new XElement(&quot;Images&quot;));</a>
<a name="ln305">        doc.Add(root);</a>
<a name="ln306"> </a>
<a name="ln307">        return doc.ToString();</a>
<a name="ln308">    }</a>
<a name="ln309"> </a>
<a name="ln310">    static string CreateXmlWithEmptyInlineList() {</a>
<a name="ln311">        var doc  = new XDocument();</a>
<a name="ln312">        var root = new XElement(&quot;EmptyListSample&quot;);</a>
<a name="ln313"> </a>
<a name="ln314">        doc.Add(root);</a>
<a name="ln315"> </a>
<a name="ln316">        return doc.ToString();</a>
<a name="ln317">    }</a>
<a name="ln318"> </a>
<a name="ln319">    static string CreateXmlWithAttributesAndNullValues() {</a>
<a name="ln320">        var doc       = new XDocument();</a>
<a name="ln321">        var root      = new XElement(&quot;NullableValues&quot;);</a>
<a name="ln322">        var idElement = new XElement(&quot;Id&quot;, null!);</a>
<a name="ln323"> </a>
<a name="ln324">        idElement.SetAttributeValue(&quot;SomeAttribute&quot;, &quot;SomeAttribute_Value&quot;);</a>
<a name="ln325"> </a>
<a name="ln326">        root.Add(</a>
<a name="ln327">            idElement,</a>
<a name="ln328">            new XElement(&quot;StartDate&quot;, null!),</a>
<a name="ln329">            new XElement(&quot;UniqueId&quot;, null!)</a>
<a name="ln330">        );</a>
<a name="ln331"> </a>
<a name="ln332">        doc.Add(root);</a>
<a name="ln333"> </a>
<a name="ln334">        return doc.ToString();</a>
<a name="ln335">    }</a>
<a name="ln336"> </a>
<a name="ln337">    static string CreateXmlWithAttributesAndNullValuesAndPopulatedValues() {</a>
<a name="ln338">        var doc       = new XDocument();</a>
<a name="ln339">        var root      = new XElement(&quot;NullableValues&quot;);</a>
<a name="ln340">        var idElement = new XElement(&quot;Id&quot;, null!);</a>
<a name="ln341"> </a>
<a name="ln342">        idElement.SetAttributeValue(&quot;SomeAttribute&quot;, &quot;SomeAttribute_Value&quot;);</a>
<a name="ln343"> </a>
<a name="ln344">        root.Add(</a>
<a name="ln345">            idElement,</a>
<a name="ln346">            new XElement(&quot;StartDate&quot;, null!),</a>
<a name="ln347">            new XElement(&quot;UniqueId&quot;, new Guid(GuidString))</a>
<a name="ln348">        );</a>
<a name="ln349"> </a>
<a name="ln350">        doc.Add(root);</a>
<a name="ln351"> </a>
<a name="ln352">        return doc.ToString();</a>
<a name="ln353">    }</a>
<a name="ln354"> </a>
<a name="ln355">    [Fact]</a>
<a name="ln356">    public void Able_to_use_alternative_name_for_arrays() {</a>
<a name="ln357">        var xmlFilePath = PathFor(&quot;header_and_rows.xml&quot;);</a>
<a name="ln358">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln359">        var xml         = new XmlDeserializer();</a>
<a name="ln360">        var output      = xml.Deserialize&lt;Header&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln361"> </a>
<a name="ln362">        Assert.NotNull(output);</a>
<a name="ln363">        Assert.Equal(&quot;text title&quot;, output.Title);</a>
<a name="ln364">        Assert.Contains(output.Othername, x =&gt; x.Text1 == &quot;first row text 1 sample&quot;);</a>
<a name="ln365">    }</a>
<a name="ln366"> </a>
<a name="ln367">    [Fact]</a>
<a name="ln368">    public void Can_deal_with_value_attribute() {</a>
<a name="ln369">        const string content = &quot;&lt;Color&gt;&lt;Name&gt;Green&lt;/Name&gt;&lt;Value&gt;255&lt;/Value&gt;&lt;/Color&gt;&quot;;</a>
<a name="ln370">        var          xml     = new XmlDeserializer();</a>
<a name="ln371">        var          output  = xml.Deserialize&lt;ColorWithValue&gt;(new RestResponse { Content = content })!;</a>
<a name="ln372"> </a>
<a name="ln373">        Assert.NotNull(output);</a>
<a name="ln374">        Assert.Equal(&quot;Green&quot;, output.Name);</a>
<a name="ln375">        Assert.Equal(255, output.Value);</a>
<a name="ln376">    }</a>
<a name="ln377"> </a>
<a name="ln378">    [Fact]</a>
<a name="ln379">    public void Can_Deserialize_Attribute_Using_Exact_Name_Defined_In_DeserializeAs_Attribute() {</a>
<a name="ln380">        const string content = &quot;&quot;&quot;&lt;response attribute-value=&quot;711&quot;&gt;&lt;/response&gt;&quot;&quot;&quot;;</a>
<a name="ln381"> </a>
<a name="ln382">        var expected = new NodeWithAttributeAndValue {</a>
<a name="ln383">            AttributeValue = &quot;711&quot;</a>
<a name="ln384">        };</a>
<a name="ln385"> </a>
<a name="ln386">        var xml    = new XmlDeserializer();</a>
<a name="ln387">        var output = xml.Deserialize&lt;NodeWithAttributeAndValue&gt;(new RestResponse { Content = content })!;</a>
<a name="ln388"> </a>
<a name="ln389">        Assert.Equal(expected.AttributeValue, output.AttributeValue);</a>
<a name="ln390">    }</a>
<a name="ln391"> </a>
<a name="ln392">    [Fact]</a>
<a name="ln393">    public void Can_Deserialize_AttributeNamedValue() {</a>
<a name="ln394">        var doc  = new XDocument();</a>
<a name="ln395">        var root = new XElement(&quot;ValueCollection&quot;);</a>
<a name="ln396"> </a>
<a name="ln397">        var xmlCollection = new XElement(&quot;Values&quot;);</a>
<a name="ln398"> </a>
<a name="ln399">        var first = new XElement(&quot;Value&quot;);</a>
<a name="ln400">        first.Add(new XAttribute(&quot;Timestamp&quot;, new DateTime(1969, 7, 20, 20, 18, 00, DateTimeKind.Utc)));</a>
<a name="ln401">        first.Add(new XAttribute(&quot;Value&quot;, &quot;Eagle landed&quot;));</a>
<a name="ln402"> </a>
<a name="ln403">        xmlCollection.Add(first);</a>
<a name="ln404"> </a>
<a name="ln405">        var second = new XElement(&quot;Value&quot;);</a>
<a name="ln406">        second.Add(new XAttribute(&quot;Timestamp&quot;, new DateTime(1969, 7, 21, 2, 56, 15, DateTimeKind.Utc)));</a>
<a name="ln407">        second.Add(new XAttribute(&quot;Value&quot;, &quot;First step&quot;));</a>
<a name="ln408">        xmlCollection.Add(second);</a>
<a name="ln409"> </a>
<a name="ln410">        root.Add(xmlCollection);</a>
<a name="ln411">        doc.Add(root);</a>
<a name="ln412"> </a>
<a name="ln413">        var response        = new RestResponse { Content = doc.ToString() };</a>
<a name="ln414">        var d               = new XmlDeserializer();</a>
<a name="ln415">        var valueCollection = d.Deserialize&lt;ValueCollectionForXml&gt;(response)!;</a>
<a name="ln416"> </a>
<a name="ln417">        Assert.Equal(2, valueCollection.Values.Count);</a>
<a name="ln418">        Assert.Equal(&quot;Eagle landed&quot;, valueCollection.Values.First().Value);</a>
<a name="ln419">    }</a>
<a name="ln420"> </a>
<a name="ln421">    [Fact]</a>
<a name="ln422">    public void Can_Deserialize_Attributes_On_Default_Root() {</a>
<a name="ln423">        var doc      = CreateAttributesXml();</a>
<a name="ln424">        var response = new RestResponse { Content = doc };</a>
<a name="ln425">        var d        = new XmlDeserializer();</a>
<a name="ln426">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln427"> </a>
<a name="ln428">        Assert.Equal(&quot;John Sheehan&quot;, p.Name);</a>
<a name="ln429">        Assert.Equal(new DateTime(2009, 9, 25, 0, 6, 1), p.StartDate);</a>
<a name="ln430">        Assert.Equal(28, p.Age);</a>
<a name="ln431">        Assert.Equal(long.MaxValue, p.BigNumber);</a>
<a name="ln432">        Assert.Equal(99.9999m, p.Percent);</a>
<a name="ln433">        Assert.False(p.IsCool);</a>
<a name="ln434">        Assert.Equal(new Guid(GuidString), p.UniqueId);</a>
<a name="ln435">        Assert.Equal(new Uri(&quot;https://example.com&quot;, UriKind.RelativeOrAbsolute), p.Url);</a>
<a name="ln436">        Assert.Equal(new Uri(&quot;/foo/bar&quot;, UriKind.RelativeOrAbsolute), p.UrlPath);</a>
<a name="ln437">        Assert.NotNull(p.BestFriend);</a>
<a name="ln438">        Assert.Equal(&quot;The Fonz&quot;, p.BestFriend.Name);</a>
<a name="ln439">        Assert.Equal(1952, p.BestFriend.Since);</a>
<a name="ln440">    }</a>
<a name="ln441"> </a>
<a name="ln442">    [Fact]</a>
<a name="ln443">    public void Can_Deserialize_Boolean_From_Number() {</a>
<a name="ln444">        var xmlFilePath = PathFor(&quot;boolean_from_number.xml&quot;);</a>
<a name="ln445">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln446">        var response    = new RestResponse { Content = doc.ToString() };</a>
<a name="ln447">        var d           = new XmlDeserializer();</a>
<a name="ln448">        var output      = d.Deserialize&lt;BooleanTest&gt;(response)!;</a>
<a name="ln449"> </a>
<a name="ln450">        Assert.True(output.Value);</a>
<a name="ln451">    }</a>
<a name="ln452"> </a>
<a name="ln453">    [Fact]</a>
<a name="ln454">    public void Can_Deserialize_Boolean_From_String() {</a>
<a name="ln455">        var xmlFilePath = PathFor(&quot;boolean_from_string.xml&quot;);</a>
<a name="ln456">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln457">        var response    = new RestResponse { Content = doc.ToString() };</a>
<a name="ln458">        var d           = new XmlDeserializer();</a>
<a name="ln459">        var output      = d.Deserialize&lt;BooleanTest&gt;(response)!;</a>
<a name="ln460"> </a>
<a name="ln461">        Assert.True(output.Value);</a>
<a name="ln462">    }</a>
<a name="ln463"> </a>
<a name="ln464">    [Fact]</a>
<a name="ln465">    public void Can_Deserialize_Custom_Formatted_Date() {</a>
<a name="ln466">        const string format = &quot;dd yyyy MMM, hh:mm ss tt zzz&quot;;</a>
<a name="ln467"> </a>
<a name="ln468">        var culture = CultureInfo.InvariantCulture;</a>
<a name="ln469">        var date    = new DateTime(2010, 2, 8, 11, 11, 11);</a>
<a name="ln470">        var doc     = new XDocument();</a>
<a name="ln471">        var root    = new XElement(&quot;Person&quot;);</a>
<a name="ln472"> </a>
<a name="ln473">        root.Add(new XElement(&quot;StartDate&quot;, date.ToString(format, culture)));</a>
<a name="ln474">        doc.Add(root);</a>
<a name="ln475"> </a>
<a name="ln476">        var xml = new XmlDeserializer {</a>
<a name="ln477">            DateFormat = format,</a>
<a name="ln478">            Culture    = culture</a>
<a name="ln479">        };</a>
<a name="ln480">        var response = new RestResponse { Content = doc.ToString() };</a>
<a name="ln481">        var output   = xml.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln482"> </a>
<a name="ln483">        Assert.Equal(date, output.StartDate);</a>
<a name="ln484">    }</a>
<a name="ln485"> </a>
<a name="ln486">    [Fact]</a>
<a name="ln487">    public void Can_Deserialize_DateTimeOffset() {</a>
<a name="ln488">        var culture        = CultureInfo.InvariantCulture;</a>
<a name="ln489">        var doc            = new XDocument(culture);</a>
<a name="ln490">        var dateTimeOffset = new DateTimeOffset(2013, 02, 08, 9, 18, 22, TimeSpan.FromHours(10));</a>
<a name="ln491"> </a>
<a name="ln492">        DateTimeOffset? nullableDateTimeOffsetWithValue =</a>
<a name="ln493">            new DateTimeOffset(2013, 02, 08, 9, 18, 23, TimeSpan.FromHours(10));</a>
<a name="ln494">        var root = new XElement(&quot;Dates&quot;);</a>
<a name="ln495"> </a>
<a name="ln496">        root.Add(new XElement(&quot;DateTimeOffset&quot;, dateTimeOffset));</a>
<a name="ln497">        root.Add(new XElement(&quot;NullableDateTimeOffsetWithNull&quot;, string.Empty));</a>
<a name="ln498">        root.Add(new XElement(&quot;NullableDateTimeOffsetWithValue&quot;, nullableDateTimeOffsetWithValue));</a>
<a name="ln499"> </a>
<a name="ln500">        doc.Add(root);</a>
<a name="ln501"> </a>
<a name="ln502">        //var xml = new XmlDeserializer { Culture = culture, };</a>
<a name="ln503">        var response = new RestResponse { Content    = doc.ToString() };</a>
<a name="ln504">        var d        = new XmlDeserializer { Culture = culture };</a>
<a name="ln505">        var payload  = d.Deserialize&lt;DateTimeTestStructure&gt;(response)!;</a>
<a name="ln506"> </a>
<a name="ln507">        Assert.Equal(dateTimeOffset, payload.DateTimeOffset);</a>
<a name="ln508">        Assert.Null(payload.NullableDateTimeOffsetWithNull);</a>
<a name="ln509">        Assert.True(payload.NullableDateTimeOffsetWithValue.HasValue);</a>
<a name="ln510">        Assert.Equal(nullableDateTimeOffsetWithValue, payload.NullableDateTimeOffsetWithValue);</a>
<a name="ln511">    }</a>
<a name="ln512"> </a>
<a name="ln513">    [Fact]</a>
<a name="ln514">    public void Can_Deserialize_Directly_To_Lists_Off_Root_Element() {</a>
<a name="ln515">        var xmlFilePath = PathFor(&quot;directlists.xml&quot;);</a>
<a name="ln516">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln517">        var xml         = new XmlDeserializer();</a>
<a name="ln518">        var output      = xml.Deserialize&lt;List&lt;Database&gt;&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln519"> </a>
<a name="ln520">        Assert.Equal(2, output.Count);</a>
<a name="ln521">    }</a>
<a name="ln522"> </a>
<a name="ln523">    [Fact]</a>
<a name="ln524">    public void Can_Deserialize_ElementNamedValue() {</a>
<a name="ln525">        var doc  = new XDocument();</a>
<a name="ln526">        var root = new XElement(&quot;ValueCollection&quot;);</a>
<a name="ln527"> </a>
<a name="ln528">        const string valueName = &quot;First moon landing events&quot;;</a>
<a name="ln529">        root.Add(new XElement(&quot;Value&quot;, valueName));</a>
<a name="ln530"> </a>
<a name="ln531">        var xmlCollection = new XElement(&quot;Values&quot;);</a>
<a name="ln532"> </a>
<a name="ln533">        var first = new XElement(&quot;Value&quot;);</a>
<a name="ln534">        first.Add(new XAttribute(&quot;Timestamp&quot;, new DateTime(1969, 7, 20, 20, 18, 00, DateTimeKind.Utc)));</a>
<a name="ln535">        xmlCollection.Add(first);</a>
<a name="ln536"> </a>
<a name="ln537">        var second = new XElement(&quot;Value&quot;);</a>
<a name="ln538">        second.Add(new XAttribute(&quot;Timestamp&quot;, new DateTime(1969, 7, 21, 2, 56, 15, DateTimeKind.Utc)));</a>
<a name="ln539">        xmlCollection.Add(second);</a>
<a name="ln540"> </a>
<a name="ln541">        root.Add(xmlCollection);</a>
<a name="ln542">        doc.Add(root);</a>
<a name="ln543"> </a>
<a name="ln544">        var response        = new RestResponse { Content = doc.ToString() };</a>
<a name="ln545">        var d               = new XmlDeserializer();</a>
<a name="ln546">        var valueCollection = d.Deserialize&lt;ValueCollectionForXml&gt;(response)!;</a>
<a name="ln547"> </a>
<a name="ln548">        Assert.Equal(valueName, valueCollection.Value);</a>
<a name="ln549">        Assert.Equal(2, valueCollection.Values.Count);</a>
<a name="ln550"> </a>
<a name="ln551">        Assert.Equal(</a>
<a name="ln552">            new DateTime(1969, 7, 20, 20, 18, 00, DateTimeKind.Utc),</a>
<a name="ln553">            valueCollection.Values.First().Timestamp.ToUniversalTime()</a>
<a name="ln554">        );</a>
<a name="ln555">    }</a>
<a name="ln556"> </a>
<a name="ln557">    [Fact]</a>
<a name="ln558">    public void Can_Deserialize_Elements_On_Default_Root() {</a>
<a name="ln559">        var doc      = CreateElementsXml();</a>
<a name="ln560">        var response = new RestResponse { Content = doc };</a>
<a name="ln561">        var d        = new XmlDeserializer();</a>
<a name="ln562">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln563"> </a>
<a name="ln564">        Assert.Equal(&quot;John Sheehan&quot;, p.Name);</a>
<a name="ln565">        Assert.Equal(new DateTime(2009, 9, 25, 0, 6, 1), p.StartDate);</a>
<a name="ln566">        Assert.Equal(28, p.Age);</a>
<a name="ln567">        Assert.Equal(long.MaxValue, p.BigNumber);</a>
<a name="ln568">        Assert.Equal(99.9999m, p.Percent);</a>
<a name="ln569">        Assert.False(p.IsCool);</a>
<a name="ln570">        Assert.Equal(new Guid(GuidString), p.UniqueId);</a>
<a name="ln571">        Assert.Equal(Guid.Empty, p.EmptyGuid);</a>
<a name="ln572">        Assert.Equal(new Uri(&quot;https://example.com&quot;, UriKind.RelativeOrAbsolute), p.Url);</a>
<a name="ln573">        Assert.Equal(new Uri(&quot;/foo/bar&quot;, UriKind.RelativeOrAbsolute), p.UrlPath);</a>
<a name="ln574">        Assert.Equal(Order.Third, p.Order);</a>
<a name="ln575">        Assert.Equal(Disposition.SoSo, p.Disposition);</a>
<a name="ln576">        Assert.NotNull(p.Friends);</a>
<a name="ln577">        Assert.Equal(10, p.Friends.Count);</a>
<a name="ln578">        Assert.NotNull(p.BestFriend);</a>
<a name="ln579">        Assert.Equal(&quot;The Fonz&quot;, p.BestFriend.Name);</a>
<a name="ln580">        Assert.Equal(1952, p.BestFriend.Since);</a>
<a name="ln581">    }</a>
<a name="ln582"> </a>
<a name="ln583">    [Fact]</a>
<a name="ln584">    public void Can_Deserialize_Elements_to_Nullable_Values() {</a>
<a name="ln585">        var culture = CultureInfo.InvariantCulture;</a>
<a name="ln586">        var doc     = CreateXmlWithoutEmptyValues(culture);</a>
<a name="ln587"> </a>
<a name="ln588">        var xml = new XmlDeserializer {</a>
<a name="ln589">            Culture = culture</a>
<a name="ln590">        };</a>
<a name="ln591">        var output = xml.Deserialize&lt;NullableValues&gt;(new RestResponse { Content = doc })!;</a>
<a name="ln592"> </a>
<a name="ln593">        Assert.NotNull(output.Id);</a>
<a name="ln594">        Assert.NotNull(output.StartDate);</a>
<a name="ln595">        Assert.NotNull(output.UniqueId);</a>
<a name="ln596">        Assert.Equal(123, output.Id);</a>
<a name="ln597">        Assert.Equal(new DateTime(2010, 2, 21, 9, 35, 00), output.StartDate);</a>
<a name="ln598">        Assert.Equal(new Guid(GuidString), output.UniqueId);</a>
<a name="ln599">    }</a>
<a name="ln600"> </a>
<a name="ln601">    [Fact]</a>
<a name="ln602">    public void Can_Deserialize_Empty_Elements_to_Nullable_Values() {</a>
<a name="ln603">        var doc    = CreateXmlWithNullValues();</a>
<a name="ln604">        var xml    = new XmlDeserializer();</a>
<a name="ln605">        var output = xml.Deserialize&lt;NullableValues&gt;(new RestResponse { Content = doc })!;</a>
<a name="ln606"> </a>
<a name="ln607">        Assert.Null(output.Id);</a>
<a name="ln608">        Assert.Null(output.StartDate);</a>
<a name="ln609">        Assert.Null(output.UniqueId);</a>
<a name="ln610">    }</a>
<a name="ln611"> </a>
<a name="ln612">    [Fact]</a>
<a name="ln613">    public void Can_Deserialize_Empty_Elements_With_Attributes_to_Nullable_Values() {</a>
<a name="ln614">        var doc    = CreateXmlWithAttributesAndNullValues();</a>
<a name="ln615">        var xml    = new XmlDeserializer();</a>
<a name="ln616">        var output = xml.Deserialize&lt;NullableValues&gt;(new RestResponse { Content = doc })!;</a>
<a name="ln617"> </a>
<a name="ln618">        Assert.Null(output.Id);</a>
<a name="ln619">        Assert.Null(output.StartDate);</a>
<a name="ln620">        Assert.Null(output.UniqueId);</a>
<a name="ln621">    }</a>
<a name="ln622"> </a>
<a name="ln623">    [Fact]</a>
<a name="ln624">    public void Can_Deserialize_Eventful_Xml() {</a>
<a name="ln625">        var xmlFilePath = PathFor(&quot;eventful.xml&quot;);</a>
<a name="ln626">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln627">        var response    = new RestResponse { Content = doc.ToString() };</a>
<a name="ln628">        var d           = new XmlDeserializer();</a>
<a name="ln629">        var output      = d.Deserialize&lt;VenueSearch&gt;(response)!;</a>
<a name="ln630"> </a>
<a name="ln631">        Assert.Equal(3, output.venues.Count);</a>
<a name="ln632">        Assert.Equal(&quot;Tivoli&quot;, output.venues[0].name);</a>
<a name="ln633">        Assert.Equal(&quot;https://eventful.com/brisbane/venues/tivoli-/V0-001-002169294-8&quot;, output.venues[1].url);</a>
<a name="ln634">        Assert.Equal(&quot;V0-001-000266914-3&quot;, output.venues[2].id);</a>
<a name="ln635">    }</a>
<a name="ln636"> </a>
<a name="ln637">    [Fact]</a>
<a name="ln638">    public void Can_Deserialize_Goodreads_Xml() {</a>
<a name="ln639">        var xmlFilePath = PathFor(&quot;Goodreads.xml&quot;);</a>
<a name="ln640">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln641">        var response    = new RestResponse { Content = doc.ToString() };</a>
<a name="ln642">        var d           = new XmlDeserializer();</a>
<a name="ln643">        var output      = d.Deserialize&lt;GoodReadsReviewCollection&gt;(response)!;</a>
<a name="ln644"> </a>
<a name="ln645">        Assert.Equal(2, output.Reviews.Count);</a>
<a name="ln646">        Assert.Equal(&quot;1208943892&quot;, output.Reviews[0].Id); // This fails without fixing the XmlDeserializer</a>
<a name="ln647">        Assert.Equal(&quot;1198344567&quot;, output.Reviews[1].Id);</a>
<a name="ln648">    }</a>
<a name="ln649"> </a>
<a name="ln650">    [Fact]</a>
<a name="ln651">    public void Can_throw_format_exception_xml() {</a>
<a name="ln652">        var xmlPath  = PathFor(&quot;GoodreadsFormatError.xml&quot;);</a>
<a name="ln653">        var doc      = XDocument.Load(xmlPath);</a>
<a name="ln654">        var response = new RestResponse { Content = doc.ToString() };</a>
<a name="ln655">        var d        = new XmlDeserializer();</a>
<a name="ln656"> </a>
<a name="ln657">        Assert.Throws&lt;FormatException&gt;(</a>
<a name="ln658">            () =&gt; d.Deserialize&lt;GoodReadsReviewCollection&gt;(response)</a>
<a name="ln659">        );</a>
<a name="ln660">    }</a>
<a name="ln661"> </a>
<a name="ln662">    [Fact]</a>
<a name="ln663">    public void Can_Deserialize_Google_Weather_Xml() {</a>
<a name="ln664">        var xmlPath  = PathFor(&quot;GoogleWeather.xml&quot;);</a>
<a name="ln665">        var doc      = XDocument.Load(xmlPath);</a>
<a name="ln666">        var response = new RestResponse { Content = doc.ToString() };</a>
<a name="ln667">        var d        = new XmlDeserializer();</a>
<a name="ln668">        var output   = d.Deserialize&lt;xml_api_reply&gt;(response)!;</a>
<a name="ln669"> </a>
<a name="ln670">        Assert.Equal(4, output.weather.Count);</a>
<a name="ln671">        Assert.Equal(&quot;Sunny&quot;, output.weather[0].condition.data);</a>
<a name="ln672">    }</a>
<a name="ln673"> </a>
<a name="ln674">    [Fact]</a>
<a name="ln675">    public void Can_Deserialize_Inline_List_Without_Elements_To_Empty_List() {</a>
<a name="ln676">        var doc    = CreateXmlWithEmptyInlineList();</a>
<a name="ln677">        var xml    = new XmlDeserializer();</a>
<a name="ln678">        var output = xml.Deserialize&lt;EmptyListSample&gt;(new RestResponse { Content = doc })!;</a>
<a name="ln679"> </a>
<a name="ln680">        Assert.NotNull(output.Images);</a>
<a name="ln681">        Assert.Empty(output.Images);</a>
<a name="ln682">    }</a>
<a name="ln683"> </a>
<a name="ln684">    [Fact]</a>
<a name="ln685">    public void Can_Deserialize_Into_Struct() {</a>
<a name="ln686">        const string content = &quot;&lt;root&gt;&lt;one&gt;oneOneOne&lt;/one&gt;&lt;two&gt;twoTwoTwo&lt;/two&gt;&lt;three&gt;3&lt;/three&gt;&lt;/root&gt;&quot;;</a>
<a name="ln687"> </a>
<a name="ln688">        var xml    = new XmlDeserializer();</a>
<a name="ln689">        var output = xml.Deserialize&lt;SimpleStruct&gt;(new RestResponse { Content = content });</a>
<a name="ln690"> </a>
<a name="ln691">        Assert.Equal(&quot;oneOneOne&quot;, output.One);</a>
<a name="ln692">        Assert.Equal(&quot;twoTwoTwo&quot;, output.Two);</a>
<a name="ln693">        Assert.Equal(3, output.Three);</a>
<a name="ln694">    }</a>
<a name="ln695"> </a>
<a name="ln696">    [Fact]</a>
<a name="ln697">    public void Can_Deserialize_Lastfm_Xml() {</a>
<a name="ln698">        var xmlPath  = PathFor(&quot;Lastfm.xml&quot;);</a>
<a name="ln699">        var doc      = XDocument.Load(xmlPath);</a>
<a name="ln700">        var response = new RestResponse { Content = doc.ToString() };</a>
<a name="ln701">        var d        = new XmlDeserializer();</a>
<a name="ln702">        var output   = d.Deserialize&lt;Event&gt;(response)!;</a>
<a name="ln703"> </a>
<a name="ln704">        Assert.Equal(</a>
<a name="ln705">            &quot;https://www.last.fm/event/328799+Philip+Glass+at+Barbican+Centre+on+12+June+2008&quot;,</a>
<a name="ln706">            output.url</a>
<a name="ln707">        );</a>
<a name="ln708">        Assert.Equal(&quot;https://www.last.fm/venue/8777860+Barbican+Centre&quot;, output.venue.url);</a>
<a name="ln709">    }</a>
<a name="ln710"> </a>
<a name="ln711">    [Fact]</a>
<a name="ln712">    public void Can_Deserialize_Lists_of_Simple_Types() {</a>
<a name="ln713">        var xmlPath = PathFor(&quot;xmllists.xml&quot;);</a>
<a name="ln714">        var doc     = XDocument.Load(xmlPath);</a>
<a name="ln715">        var xml     = new XmlDeserializer();</a>
<a name="ln716"> </a>
<a name="ln717">        var output = xml.Deserialize&lt;SimpleTypesListSample&gt;(</a>
<a name="ln718">            new RestResponse { Content = doc.ToString() }</a>
<a name="ln719">        )!;</a>
<a name="ln720"> </a>
<a name="ln721">        Assert.False(output.Names[0].Length == 0);</a>
<a name="ln722">        Assert.False(output.Numbers.Sum() == 0);</a>
<a name="ln723">    }</a>
<a name="ln724"> </a>
<a name="ln725">    [Fact]</a>
<a name="ln726">    public void Can_Deserialize_Lower_Cased_Root_Elements_With_Dashes() {</a>
<a name="ln727">        var doc      = CreateDashesXml();</a>
<a name="ln728">        var response = new RestResponse { Content = doc };</a>
<a name="ln729">        var d        = new XmlDeserializer();</a>
<a name="ln730">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln731"> </a>
<a name="ln732">        Assert.Equal(&quot;John Sheehan&quot;, p.Name);</a>
<a name="ln733">        Assert.Equal(new DateTime(2009, 9, 25, 0, 6, 1), p.StartDate);</a>
<a name="ln734">        Assert.Equal(28, p.Age);</a>
<a name="ln735">        Assert.Equal(long.MaxValue, p.BigNumber);</a>
<a name="ln736">        Assert.Equal(99.9999m, p.Percent);</a>
<a name="ln737">        Assert.False(p.IsCool);</a>
<a name="ln738">        Assert.Equal(new Guid(GuidString), p.UniqueId);</a>
<a name="ln739">        Assert.Equal(new Uri(&quot;https://example.com&quot;, UriKind.RelativeOrAbsolute), p.Url);</a>
<a name="ln740">        Assert.Equal(new Uri(&quot;/foo/bar&quot;, UriKind.RelativeOrAbsolute), p.UrlPath);</a>
<a name="ln741">        Assert.NotNull(p.Friends);</a>
<a name="ln742">        Assert.Equal(10, p.Friends.Count);</a>
<a name="ln743">        Assert.NotNull(p.BestFriend);</a>
<a name="ln744">        Assert.Equal(&quot;The Fonz&quot;, p.BestFriend.Name);</a>
<a name="ln745">        Assert.Equal(1952, p.BestFriend.Since);</a>
<a name="ln746">        Assert.NotNull(p.Foes);</a>
<a name="ln747">        Assert.Equal(5, p.Foes.Count);</a>
<a name="ln748">        Assert.Equal(&quot;Yankees&quot;, p.Foes.Team);</a>
<a name="ln749">    }</a>
<a name="ln750"> </a>
<a name="ln751">    [Fact]</a>
<a name="ln752">    public void Can_Deserialize_Mixture_Of_Empty_Elements_With_Attributes_And_Populated_Elements() {</a>
<a name="ln753">        var doc    = CreateXmlWithAttributesAndNullValuesAndPopulatedValues();</a>
<a name="ln754">        var xml    = new XmlDeserializer();</a>
<a name="ln755">        var output = xml.Deserialize&lt;NullableValues&gt;(new RestResponse { Content = doc })!;</a>
<a name="ln756"> </a>
<a name="ln757">        Assert.Null(output.Id);</a>
<a name="ln758">        Assert.Null(output.StartDate);</a>
<a name="ln759">        Assert.Equal(new Guid(GuidString), output.UniqueId);</a>
<a name="ln760">    }</a>
<a name="ln761"> </a>
<a name="ln762">    [Fact]</a>
<a name="ln763">    public void Can_Deserialize_Names_With_Dashes_On_Default_Root() {</a>
<a name="ln764">        var doc      = CreateDashesXml();</a>
<a name="ln765">        var response = new RestResponse { Content = doc };</a>
<a name="ln766">        var d        = new XmlDeserializer();</a>
<a name="ln767">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln768"> </a>
<a name="ln769">        Assert.Equal(&quot;John Sheehan&quot;, p.Name);</a>
<a name="ln770">        Assert.Equal(new DateTime(2009, 9, 25, 0, 6, 1), p.StartDate);</a>
<a name="ln771">        Assert.Equal(28, p.Age);</a>
<a name="ln772">        Assert.Equal(long.MaxValue, p.BigNumber);</a>
<a name="ln773">        Assert.Equal(99.9999m, p.Percent);</a>
<a name="ln774">        Assert.False(p.IsCool);</a>
<a name="ln775">        Assert.Equal(new Guid(GuidString), p.UniqueId);</a>
<a name="ln776">        Assert.Equal(new Uri(&quot;https://example.com&quot;, UriKind.RelativeOrAbsolute), p.Url);</a>
<a name="ln777">        Assert.Equal(new Uri(&quot;/foo/bar&quot;, UriKind.RelativeOrAbsolute), p.UrlPath);</a>
<a name="ln778">        Assert.NotNull(p.Friends);</a>
<a name="ln779">        Assert.Equal(10, p.Friends.Count);</a>
<a name="ln780">        Assert.NotNull(p.BestFriend);</a>
<a name="ln781">        Assert.Equal(&quot;The Fonz&quot;, p.BestFriend.Name);</a>
<a name="ln782">        Assert.Equal(1952, p.BestFriend.Since);</a>
<a name="ln783">        Assert.NotNull(p.Foes);</a>
<a name="ln784">        Assert.Equal(5, p.Foes.Count);</a>
<a name="ln785">        Assert.Equal(&quot;Yankees&quot;, p.Foes.Team);</a>
<a name="ln786">    }</a>
<a name="ln787"> </a>
<a name="ln788">    [Fact]</a>
<a name="ln789">    public void Can_Deserialize_Names_With_Underscores_On_Default_Root() {</a>
<a name="ln790">        var doc      = CreateUnderscoresXml();</a>
<a name="ln791">        var response = new RestResponse { Content = doc };</a>
<a name="ln792">        var d        = new XmlDeserializer();</a>
<a name="ln793">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln794"> </a>
<a name="ln795">        Assert.Equal(&quot;John Sheehan&quot;, p.Name);</a>
<a name="ln796">        Assert.Equal(new DateTime(2009, 9, 25, 0, 6, 1), p.StartDate);</a>
<a name="ln797">        Assert.Equal(28, p.Age);</a>
<a name="ln798">        Assert.Equal(long.MaxValue, p.BigNumber);</a>
<a name="ln799">        Assert.Equal(99.9999m, p.Percent);</a>
<a name="ln800">        Assert.False(p.IsCool);</a>
<a name="ln801">        Assert.Equal(new Guid(GuidString), p.UniqueId);</a>
<a name="ln802">        Assert.Equal(new Uri(&quot;https://example.com&quot;, UriKind.RelativeOrAbsolute), p.Url);</a>
<a name="ln803">        Assert.Equal(new Uri(&quot;/foo/bar&quot;, UriKind.RelativeOrAbsolute), p.UrlPath);</a>
<a name="ln804">        Assert.NotNull(p.Friends);</a>
<a name="ln805">        Assert.Equal(10, p.Friends.Count);</a>
<a name="ln806">        Assert.NotNull(p.BestFriend);</a>
<a name="ln807">        Assert.Equal(&quot;The Fonz&quot;, p.BestFriend.Name);</a>
<a name="ln808">        Assert.Equal(1952, p.BestFriend.Since);</a>
<a name="ln809">        Assert.NotNull(p.Foes);</a>
<a name="ln810">        Assert.Equal(5, p.Foes.Count);</a>
<a name="ln811">        Assert.Equal(&quot;Yankees&quot;, p.Foes.Team);</a>
<a name="ln812">    }</a>
<a name="ln813"> </a>
<a name="ln814">    [Fact]</a>
<a name="ln815">    public void Can_Deserialize_Names_With_Underscores_Without_Matching_Case_On_Default_Root() {</a>
<a name="ln816">        var doc      = CreateLowercaseUnderscoresXml();</a>
<a name="ln817">        var response = new RestResponse { Content = doc };</a>
<a name="ln818">        var d        = new XmlDeserializer();</a>
<a name="ln819">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln820"> </a>
<a name="ln821">        Assert.Equal(&quot;John Sheehan&quot;, p.Name);</a>
<a name="ln822">        Assert.Equal(new DateTime(2009, 9, 25, 0, 6, 1), p.StartDate);</a>
<a name="ln823">        Assert.Equal(28, p.Age);</a>
<a name="ln824">        Assert.Equal(long.MaxValue, p.BigNumber);</a>
<a name="ln825">        Assert.Equal(99.9999m, p.Percent);</a>
<a name="ln826">        Assert.False(p.IsCool);</a>
<a name="ln827">        Assert.Equal(new Guid(GuidString), p.UniqueId);</a>
<a name="ln828">        Assert.Equal(new Uri(&quot;https://example.com&quot;, UriKind.RelativeOrAbsolute), p.Url);</a>
<a name="ln829">        Assert.Equal(new Uri(&quot;/foo/bar&quot;, UriKind.RelativeOrAbsolute), p.UrlPath);</a>
<a name="ln830">        Assert.NotNull(p.Friends);</a>
<a name="ln831">        Assert.Equal(10, p.Friends.Count);</a>
<a name="ln832">        Assert.NotNull(p.BestFriend);</a>
<a name="ln833">        Assert.Equal(&quot;The Fonz&quot;, p.BestFriend.Name);</a>
<a name="ln834">        Assert.Equal(1952, p.BestFriend.Since);</a>
<a name="ln835">        Assert.NotNull(p.Foes);</a>
<a name="ln836">        Assert.Equal(5, p.Foes.Count);</a>
<a name="ln837">        Assert.Equal(&quot;Yankees&quot;, p.Foes.Team);</a>
<a name="ln838">    }</a>
<a name="ln839"> </a>
<a name="ln840">    [Fact]</a>
<a name="ln841">    public void Can_Deserialize_Nested_List_Items_With_Matching_Class_Name() {</a>
<a name="ln842">        var xmlFilePath = PathFor(&quot;NestedListSample.xml&quot;);</a>
<a name="ln843">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln844">        var xml         = new XmlDeserializer();</a>
<a name="ln845">        var output      = xml.Deserialize&lt;InlineListSample&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln846"> </a>
<a name="ln847">        Assert.Equal(4, output.images.Count);</a>
<a name="ln848">    }</a>
<a name="ln849"> </a>
<a name="ln850">    [Fact]</a>
<a name="ln851">    public void Can_Deserialize_Nested_List_Items_Without_Matching_Class_Name() {</a>
<a name="ln852">        var xmlFilePath = PathFor(&quot;NestedListSample.xml&quot;);</a>
<a name="ln853">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln854">        var xml         = new XmlDeserializer();</a>
<a name="ln855">        var output      = xml.Deserialize&lt;InlineListSample&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln856"> </a>
<a name="ln857">        Assert.Equal(4, output.Images.Count);</a>
<a name="ln858">    }</a>
<a name="ln859"> </a>
<a name="ln860">    [Fact]</a>
<a name="ln861">    public void Can_Deserialize_Nested_List_Without_Elements_To_Empty_List() {</a>
<a name="ln862">        var doc    = CreateXmlWithEmptyNestedList();</a>
<a name="ln863">        var xml    = new XmlDeserializer();</a>
<a name="ln864">        var output = xml.Deserialize&lt;EmptyListSample&gt;(new RestResponse { Content = doc })!;</a>
<a name="ln865"> </a>
<a name="ln866">        Assert.NotNull(output.Images);</a>
<a name="ln867">        Assert.Empty(output.Images);</a>
<a name="ln868">    }</a>
<a name="ln869"> </a>
<a name="ln870">    [Fact]</a>
<a name="ln871">    public void Can_Deserialize_Node_That_Has_Attribute_And_Content() {</a>
<a name="ln872">        var doc = CreateNoteXml();</a>
<a name="ln873"> </a>
<a name="ln874">        var response = new RestResponse {</a>
<a name="ln875">            Content = doc</a>
<a name="ln876">        };</a>
<a name="ln877">        var d = new XmlDeserializer();</a>
<a name="ln878"> </a>
<a name="ln879">        var note = d.Deserialize&lt;Note&gt;(response)!;</a>
<a name="ln880"> </a>
<a name="ln881">        Assert.Equal(1, note.Id);</a>
<a name="ln882">        Assert.Equal(Note.ConstTitle, note.Title);</a>
<a name="ln883">        Assert.Equal(Note.ConstMessage, note.Message);</a>
<a name="ln884">    }</a>
<a name="ln885"> </a>
<a name="ln886">    [Fact]</a>
<a name="ln887">    public void Can_Deserialize_Node_Using_Exact_Name_Defined_In_DeserializeAs_Attribute() {</a>
<a name="ln888">        const string content = &quot;&lt;response&gt;&lt;node-value&gt;711&lt;/node-value&gt;&lt;/response&gt;&quot;;</a>
<a name="ln889"> </a>
<a name="ln890">        var expected = new SingleNode {</a>
<a name="ln891">            Node = &quot;711&quot;</a>
<a name="ln892">        };</a>
<a name="ln893"> </a>
<a name="ln894">        var xml    = new XmlDeserializer();</a>
<a name="ln895">        var output = xml.Deserialize&lt;SingleNode&gt;(new RestResponse { Content = content })!;</a>
<a name="ln896"> </a>
<a name="ln897">        Assert.NotNull(output);</a>
<a name="ln898">        Assert.Equal(expected.Node, output.Node);</a>
<a name="ln899">    }</a>
<a name="ln900"> </a>
<a name="ln901">    [Fact]</a>
<a name="ln902">    public void Can_Deserialize_Parentless_aka_Inline_List_Items_With_Matching_Class_Name() {</a>
<a name="ln903">        var xmlFilePath = PathFor(&quot;InlineListSample.xml&quot;);</a>
<a name="ln904">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln905">        var xml         = new XmlDeserializer();</a>
<a name="ln906">        var output      = xml.Deserialize&lt;InlineListSample&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln907"> </a>
<a name="ln908">        Assert.Equal(4, output.images.Count);</a>
<a name="ln909">    }</a>
<a name="ln910"> </a>
<a name="ln911">    [Fact]</a>
<a name="ln912">    public void Can_Deserialize_Parentless_aka_Inline_List_Items_With_Matching_Class_Name_With_Additional_Property() {</a>
<a name="ln913">        var xmlFilePath = PathFor(&quot;InlineListSample.xml&quot;);</a>
<a name="ln914">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln915">        var xml         = new XmlDeserializer();</a>
<a name="ln916">        var output      = xml.Deserialize&lt;InlineListSample&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln917"> </a>
<a name="ln918">        Assert.Equal(4, output.Count);</a>
<a name="ln919">    }</a>
<a name="ln920"> </a>
<a name="ln921">    [Fact]</a>
<a name="ln922">    public void Can_Deserialize_Parentless_aka_Inline_List_Items_Without_Matching_Class_Name() {</a>
<a name="ln923">        var xmlFilePath = PathFor(&quot;InlineListSample.xml&quot;);</a>
<a name="ln924">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln925">        var xml         = new XmlDeserializer();</a>
<a name="ln926">        var output      = xml.Deserialize&lt;InlineListSample&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln927"> </a>
<a name="ln928">        Assert.Equal(4, output.Images.Count);</a>
<a name="ln929">    }</a>
<a name="ln930"> </a>
<a name="ln931">    [Fact]</a>
<a name="ln932">    public void Can_Deserialize_Root_Elements_Without_Matching_Case_And_Dashes() {</a>
<a name="ln933">        var doc      = CreateLowerCasedRootElementWithDashesXml();</a>
<a name="ln934">        var response = new RestResponse { Content = doc };</a>
<a name="ln935">        var d        = new XmlDeserializer();</a>
<a name="ln936">        var p        = d.Deserialize&lt;List&lt;IncomingInvoice&gt;&gt;(response)!;</a>
<a name="ln937"> </a>
<a name="ln938">        Assert.NotNull(p);</a>
<a name="ln939">        Assert.Single(p);</a>
<a name="ln940">        Assert.Equal(45, p[0].ConceptId);</a>
<a name="ln941">    }</a>
<a name="ln942"> </a>
<a name="ln943">    [Fact]</a>
<a name="ln944">    public void Can_Deserialize_TimeSpan() {</a>
<a name="ln945">        var       culture  = CultureInfo.InvariantCulture;</a>
<a name="ln946">        var       doc      = new XDocument(culture);</a>
<a name="ln947">        TimeSpan? nullable = new TimeSpan(21, 30, 7);</a>
<a name="ln948">        var       root     = new XElement(&quot;Person&quot;);</a>
<a name="ln949"> </a>
<a name="ln950">        root.Add(new XElement(&quot;Tick&quot;, new TimeSpan(468006)));</a>
<a name="ln951">        root.Add(new XElement(&quot;Millisecond&quot;, new TimeSpan(0, 0, 0, 0, 125)));</a>
<a name="ln952">        root.Add(new XElement(&quot;Second&quot;, new TimeSpan(0, 0, 8)));</a>
<a name="ln953">        root.Add(new XElement(&quot;Minute&quot;, new TimeSpan(0, 55, 2)));</a>
<a name="ln954">        root.Add(new XElement(&quot;Hour&quot;, new TimeSpan(21, 30, 7)));</a>
<a name="ln955">        root.Add(new XElement(&quot;NullableWithoutValue&quot;, (TimeSpan?)null));</a>
<a name="ln956">        root.Add(new XElement(&quot;NullableWithValue&quot;, nullable));</a>
<a name="ln957"> </a>
<a name="ln958">        doc.Add(root);</a>
<a name="ln959"> </a>
<a name="ln960">        var response = new RestResponse {</a>
<a name="ln961">            Content = doc.ToString()</a>
<a name="ln962">        };</a>
<a name="ln963"> </a>
<a name="ln964">        var d = new XmlDeserializer {</a>
<a name="ln965">            Culture = culture</a>
<a name="ln966">        };</a>
<a name="ln967">        var payload = d.Deserialize&lt;TimeSpanTestStructure&gt;(response)!;</a>
<a name="ln968"> </a>
<a name="ln969">        Assert.Equal(new TimeSpan(468006), payload.Tick);</a>
<a name="ln970">        Assert.Equal(new TimeSpan(0, 0, 0, 0, 125), payload.Millisecond);</a>
<a name="ln971">        Assert.Equal(new TimeSpan(0, 0, 8), payload.Second);</a>
<a name="ln972">        Assert.Equal(new TimeSpan(0, 55, 2), payload.Minute);</a>
<a name="ln973">        Assert.Equal(new TimeSpan(21, 30, 7), payload.Hour);</a>
<a name="ln974">        Assert.Null(payload.NullableWithoutValue);</a>
<a name="ln975">        Assert.NotNull(payload.NullableWithValue);</a>
<a name="ln976">        Assert.Equal(new TimeSpan(21, 30, 7), payload.NullableWithValue.Value);</a>
<a name="ln977">    }</a>
<a name="ln978"> </a>
<a name="ln979">    [Fact]</a>
<a name="ln980">    public void Can_Deserialize_To_List_Inheritor_From_Custom_Root_With_Attributes() {</a>
<a name="ln981">        var xmlFilePath = PathFor(&quot;ListWithAttributes.xml&quot;);</a>
<a name="ln982">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln983">        var xml         = new XmlDeserializer { RootElement = &quot;Calls&quot; };</a>
<a name="ln984">        var output      = xml.Deserialize&lt;TwilioCallList&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln985"> </a>
<a name="ln986">        Assert.Equal(3, output.NumPages);</a>
<a name="ln987">        Assert.Equal(2, output.Count);</a>
<a name="ln988">    }</a>
<a name="ln989"> </a>
<a name="ln990">    [Fact]</a>
<a name="ln991">    public void Can_Deserialize_To_Standalone_List_With_Matching_Class_Case() {</a>
<a name="ln992">        var xmlFilePath = PathFor(&quot;InlineListSample.xml&quot;);</a>
<a name="ln993">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln994">        var xml         = new XmlDeserializer();</a>
<a name="ln995">        var output      = xml.Deserialize&lt;List&lt;image&gt;&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln996"> </a>
<a name="ln997">        Assert.Equal(4, output.Count);</a>
<a name="ln998">    }</a>
<a name="ln999"> </a>
<a name="ln1000">    [Fact]</a>
<a name="ln1001">    public void Can_Deserialize_To_Standalone_List_Without_Matching_Class_Case() {</a>
<a name="ln1002">        var xmlFilePath = PathFor(&quot;InlineListSample.xml&quot;);</a>
<a name="ln1003">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln1004">        var xml         = new XmlDeserializer();</a>
<a name="ln1005">        var output      = xml.Deserialize&lt;List&lt;Image&gt;&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln1006"> </a>
<a name="ln1007">        Assert.Equal(4, output.Count);</a>
<a name="ln1008">    }</a>
<a name="ln1009"> </a>
<a name="ln1010">    [Fact]</a>
<a name="ln1011">    public void Can_Deserialize_When_RootElement_Deeper_Then_One() {</a>
<a name="ln1012">        const string content =</a>
<a name="ln1013">            &quot;&lt;root&gt;&lt;subroot&gt;&lt;subsubroot&gt;&lt;one&gt;oneOneOne&lt;/one&gt;&lt;two&gt;twoTwoTwo&lt;/two&gt;&lt;three&gt;3&lt;/three&gt;&lt;/subsubroot&gt;&lt;/subroot&gt;&lt;/root&gt;&quot;;</a>
<a name="ln1014">        var xml    = new XmlDeserializer { RootElement = &quot;subsubroot&quot; };</a>
<a name="ln1015">        var output = xml.Deserialize&lt;SimpleStruct&gt;(new RestResponse { Content = content });</a>
<a name="ln1016"> </a>
<a name="ln1017">        Assert.Equal(&quot;oneOneOne&quot;, output.One);</a>
<a name="ln1018">        Assert.Equal(&quot;twoTwoTwo&quot;, output.Two);</a>
<a name="ln1019">        Assert.Equal(3, output.Three);</a>
<a name="ln1020">    }</a>
<a name="ln1021"> </a>
<a name="ln1022">    [Fact]</a>
<a name="ln1023">    public void Can_Use_DeserializeAs_Attribute() {</a>
<a name="ln1024">        const string content =</a>
<a name="ln1025">            &quot;&lt;oddball&gt;&lt;sid&gt;1&lt;/sid&gt;&lt;friendlyName&gt;Jackson&lt;/friendlyName&gt;&lt;oddballPropertyName&gt;oddball&lt;/oddballPropertyName&gt;&lt;/oddball&gt;&quot;;</a>
<a name="ln1026">        var xml    = new XmlDeserializer();</a>
<a name="ln1027">        var output = xml.Deserialize&lt;Oddball&gt;(new RestResponse { Content = content })!;</a>
<a name="ln1028"> </a>
<a name="ln1029">        Assert.NotNull(output);</a>
<a name="ln1030">        Assert.Equal(&quot;1&quot;, output.Sid);</a>
<a name="ln1031">        Assert.Equal(&quot;Jackson&quot;, output.FriendlyName);</a>
<a name="ln1032">        Assert.Equal(&quot;oddball&quot;, output.GoodPropertyName);</a>
<a name="ln1033">    }</a>
<a name="ln1034"> </a>
<a name="ln1035">    [Fact]</a>
<a name="ln1036">    public void Can_Use_DeserializeAs_Attribute_for_List() {</a>
<a name="ln1037">        var xmlFilePath = PathFor(&quot;deserialize_as_list.xml&quot;);</a>
<a name="ln1038">        var doc         = XDocument.Load(xmlFilePath);</a>
<a name="ln1039">        var xml         = new XmlDeserializer();</a>
<a name="ln1040">        var output      = xml.Deserialize&lt;List&lt;Oddball&gt;&gt;(new RestResponse { Content = doc.ToString() })!;</a>
<a name="ln1041"> </a>
<a name="ln1042">        Assert.NotNull(output);</a>
<a name="ln1043">        Assert.Equal(&quot;1&quot;, output[0].Sid);</a>
<a name="ln1044">    }</a>
<a name="ln1045"> </a>
<a name="ln1046">    [Fact]</a>
<a name="ln1047">    public void Can_Use_DeserializeAs_Attribute_for_List_Property() {</a>
<a name="ln1048">        const string content =</a>
<a name="ln1049">            &quot;&lt;oddball&gt;&lt;oddballListName&gt;&lt;item&gt;TestValue&lt;/item&gt;&lt;/oddballListName&gt;&lt;/oddball&gt;&quot;;</a>
<a name="ln1050"> </a>
<a name="ln1051">        var xml    = new XmlDeserializer();</a>
<a name="ln1052">        var output = xml.Deserialize&lt;Oddball&gt;(new RestResponse { Content = content })!;</a>
<a name="ln1053"> </a>
<a name="ln1054">        Assert.NotNull(output);</a>
<a name="ln1055">        Assert.NotNull(output.ListWithGoodName);</a>
<a name="ln1056">        Assert.NotEmpty(output.ListWithGoodName);</a>
<a name="ln1057">    }</a>
<a name="ln1058"> </a>
<a name="ln1059">    [Fact]</a>
<a name="ln1060">    public void Cannot_Deserialize_Node_To_An_Object_That_Has_Two_Properties_With_Text_Content_Attributes() {</a>
<a name="ln1061">        var doc = CreateNoteXml();</a>
<a name="ln1062"> </a>
<a name="ln1063">        var response = new RestResponse {</a>
<a name="ln1064">            Content = doc</a>
<a name="ln1065">        };</a>
<a name="ln1066">        var d = new XmlDeserializer();</a>
<a name="ln1067"> </a>
<a name="ln1068">        Assert.Throws&lt;ArgumentException&gt;(</a>
<a name="ln1069">            () =&gt; d.Deserialize&lt;WrongNote&gt;(response)</a>
<a name="ln1070">        );</a>
<a name="ln1071">    }</a>
<a name="ln1072"> </a>
<a name="ln1073">    [Fact]</a>
<a name="ln1074">    public void Ignore_Protected_Property_That_Exists_In_Data() {</a>
<a name="ln1075">        var doc      = CreateElementsXml();</a>
<a name="ln1076">        var response = new RestResponse { Content = doc };</a>
<a name="ln1077">        var d        = new XmlDeserializer();</a>
<a name="ln1078">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln1079"> </a>
<a name="ln1080">        Assert.Null(p.IgnoreProxy);</a>
<a name="ln1081">    }</a>
<a name="ln1082"> </a>
<a name="ln1083">    [Fact]</a>
<a name="ln1084">    public void Ignore_ReadOnly_Property_That_Exists_In_Data() {</a>
<a name="ln1085">        var doc      = CreateElementsXml();</a>
<a name="ln1086">        var response = new RestResponse { Content = doc };</a>
<a name="ln1087">        var d        = new XmlDeserializer();</a>
<a name="ln1088">        var p        = d.Deserialize&lt;PersonForXml&gt;(response)!;</a>
<a name="ln1089"> </a>
<a name="ln1090">        Assert.Null(p.ReadOnlyProxy);</a>
<a name="ln1091">    }</a>
<a name="ln1092">}</a>
</code></pre>
<div class="balloon" rel="726"><p><span style="font-size:18px">&uarr;</span> <a href="https://pvs-studio.com/en/docs/warnings/v3013/" target="_blank">V3013</a> It is odd that the body of 'Can_Deserialize_Lower_Cased_Root_Elements_With_Dashes' function is fully equivalent to the body of 'Can_Deserialize_Names_With_Dashes_On_Default_Root' function.</p></div>
<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>